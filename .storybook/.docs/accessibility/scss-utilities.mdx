{/* This file is automatically generated by the 'scripts/generate-docs.mjs' script. Do not edit it directly. */}

<Meta title="Accessibility/Scss Utilities" />

# SCSS Accessibility Utilities

SCSS mixins and utilities to help create accessible styles that respect user preferences and provide better experiences for users with disabilities.

## üéØ Focus Management

### `@mixin focus-visible($color)`

Creates accessible focus indicators that work across different modes.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .button {
    @include util.focus-visible(); // Uses default focus color
    &.primary {
      @include util.focus-visible(#007bff); // Custom focus color
    }
}`}
/>

**Features:**

- High contrast mode support
- Forced colors mode support (Windows High Contrast)
- Fallback for browsers without `:focus-visible` support

**Generated CSS:**

<Source
  language="css"
  code={`.button:focus-visible {
    box-shadow:
      0 0 2px 2px #fff,
      0 0 2px 5px #ffd700;
    outline: 0;
  }
  @media (prefers-contrast: high) {
    .button:focus-visible {
      outline: 2px solid ButtonText;
      outline-offset: 2px;
      box-shadow: none;
    }
}`}
/>

---

### `@mixin enhanced-focus($color, $offset)`

Enhanced focus ring for interactive elements with better customization.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .interactive-element {
    @include util.enhanced-focus(#007bff, 3px);
}`}
/>

**Parameters:**

- `$color` - Focus ring color
- `$offset` - Offset distance from element

## üåà High Contrast Mode

### `@mixin high-contrast-mode`

Applies styles only in high contrast mode.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .card {
    background: #f5f5f5;
    border: 1px solid #ddd;
    @include util.high-contrast-mode {
      background: ButtonFace;
      border: 2px solid ButtonText;
    }
}`}
/>

---

### `@mixin forced-colors-mode`

Applies styles only in forced colors mode (Windows High Contrast).

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .button {
    background: #007bff;
    color: white;
    @include util.forced-colors-mode {
      background: ButtonFace;
      color: ButtonText;
      border: 2px solid ButtonText;
    }
}`}
/>

---

### `@mixin enhanced-contrast-mode`

Applies styles in both high contrast and forced colors modes.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .text {
    color: #333;
    @include util.enhanced-contrast-mode {
      color: CanvasText;
    }
}`}
/>

---

### Component-Specific High Contrast Mixins

#### `@mixin high-contrast-button`

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .button {
    @include util.high-contrast-button;
}`}
/>

**Features:**

- Proper button colors in high contrast mode
- Hover and focus states
- Disabled state handling

#### `@mixin high-contrast-input`

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .input {
    @include util.high-contrast-input;
}`}
/>

**Features:**

- Form field colors in high contrast mode
- Focus indicators
- Disabled state handling

#### `@mixin high-contrast-link`

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .link {
    @include util.high-contrast-link;
}`}
/>

**Features:**

- Link colors in high contrast mode
- Visited state handling
- Hover and focus states

## üé¨ Reduced Motion

### `@mixin motion-allowed`

Applies styles only when motion is allowed.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .animated-element {
    @include util.motion-allowed {
      animation: slideIn 0.3s ease;
      transition: transform 0.2s ease;
    }
}`}
/>

---

### `@mixin reduced-motion`

Applies styles only when reduced motion is preferred.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .animated-element {
    @include util.reduced-motion {
      animation: none;
      transition: none;
    }
}`}
/>

---

### `@mixin safe-animation($animation, $fallback)`

Creates motion-safe animations with fallbacks.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .element {
    @include util.safe-animation(slideIn 0.3s ease, none);
}`}
/>

**Generated CSS:**

<Source
  language="css"
  code={`.element {
    animation: none;
  }
  @media (prefers-reduced-motion: no-preference) {
    .element {
      animation: slideIn 0.3s ease;
    }
}`}
/>

---

### `@mixin safe-transition($transition, $fallback)`

Creates motion-safe transitions with fallbacks.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .button {
    @include util.safe-transition(all 0.2s ease, none);
}`}
/>

---

### `@mixin essential-animation($animation, $reduced-duration)`

For animations that should always run but be faster in reduced motion.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .loading-spinner {
    @include util.essential-animation(spin 1s linear infinite, 0.1s);
}`}
/>

**Use Cases:**

- Loading indicators
- Progress animations
- Essential feedback animations

---

### `@mixin hover-animation($property, $value, $duration)`

Motion-safe hover effects.

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .button {
    @include util.hover-animation(background-color, #0056b3, 0.2s);
}`}
/>

## üîß Utility Classes

### Motion Control Classes

<Source
  language="scss"
  code={`// Hide elements that should only show with motion
  .motion-only {
    @include util.reduced-motion {
      display: none !important;
    }
  }
  // Show elements only in reduced motion
  .reduced-motion-only {
    display: none;
    @include util.reduced-motion {
      display: block;
    }
}`}
/>

**Usage in HTML:**

<Source
  language="html"
  code={`<!-- Animated version -->
  <div class="motion-only">
    <div class="animated-loader"></div>
  </div>
  <!-- Static version -->
  <div class="reduced-motion-only">
    <div class="static-loader">Loading...</div>
</div>`}
/>

## üìã Complete Examples

### Accessible Button Component

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .button {
    // Base styles
    padding: 0.5rem 1rem;
    border: 2px solid transparent;
    border-radius: 4px;
    font-size: 1rem;
    cursor: pointer;
    // Focus management
    @include util.enhanced-focus(#007bff, 2px);
    // High contrast support
    @include util.high-contrast-button;
    // Motion-safe interactions
    @include util.safe-transition(all 0.2s ease, none);
    @include util.hover-animation(background-color, #0056b3, 0.2s);
    // Variants
    &.primary {
      background-color: #007bff;
      color: white;
    }
    &.secondary {
      background-color: transparent;
      color: #007bff;
      border-color: #007bff;
    }
    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      @include util.enhanced-contrast-mode {
        color: GrayText;
        border-color: GrayText;
      }
    }
}`}
/>

### Accessible Modal Component

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    // Motion-safe entrance
    @include util.safe-animation(fadeIn 0.3s ease, none);
    @include util.enhanced-contrast-mode {
      background: Canvas;
      border: 2px solid ButtonText;
    }
  }
  .modal-content {
    background: white;
    border-radius: 8px;
    padding: 2rem;
    max-width: 90vw;
    max-height: 90vh;
    overflow: auto;
    // Motion-safe entrance
    @include util.safe-animation(slideUp 0.3s ease, none);
    // High contrast support
    @include util.high-contrast-panel;
    // Focus management
    &:focus {
      outline: none; // Focus is managed by focus trap
    }
  }
  .modal-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    @include util.enhanced-focus(#007bff, 2px);
    @include util.high-contrast-button;
}`}
/>

### Accessible Form Field

<Source
  language="scss"
  code={`@use '@/theme/utilities' as util;
  .form-field {
    margin-bottom: 1rem;
  }
  .form-label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    @include util.enhanced-contrast-mode {
      color: CanvasText;
    }
  }
  .form-input {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
    // Focus management
    @include util.enhanced-focus(#007bff, 2px);
    // High contrast support
    @include util.high-contrast-input;
    // Motion-safe interactions
    @include util.safe-transition(border-color 0.2s ease, none);
    &:invalid {
      border-color: #dc3545;
      @include util.enhanced-contrast-mode {
        border-color: Mark;
      }
    }
    &:disabled {
      background-color: #f8f9fa;
      cursor: not-allowed;
    }
  }
  .form-help {
    margin-top: 0.25rem;
    font-size: 0.875rem;
    color: #6c757d;
    @include util.enhanced-contrast-mode {
      color: CanvasText;
    }
  }
  .form-error {
    margin-top: 0.25rem;
    font-size: 0.875rem;
    color: #dc3545;
    @include util.enhanced-contrast-mode {
      color: CanvasText;
      background: Mark;
      padding: 0.25rem;
    }
}`}
/>

## üîß Best Practices

1. **Always include focus management** - Use focus mixins on all interactive elements
2. **Test in high contrast mode** - Verify components work in Windows High Contrast
3. **Respect motion preferences** - Use motion-safe mixins for all animations
4. **Provide fallbacks** - Always include fallback values for accessibility features
5. **Test with real users** - Verify accessibility with actual assistive technology users

## üêõ Troubleshooting

### Focus Indicators Not Visible

- Check if `:focus-visible` is supported in target browsers
- Verify focus colors have sufficient contrast
- Test in high contrast mode

### High Contrast Mode Issues

- Use system colors (ButtonText, ButtonFace, etc.) instead of custom colors
- Test in actual Windows High Contrast mode
- Ensure borders are thick enough (2px minimum)

### Motion Not Respecting Preferences

- Verify `prefers-reduced-motion` media query support
- Test with system motion settings disabled
- Ensure fallback values are provided

---

_For more accessibility resources, see our [main accessibility documentation](/docs/accessibility-index--docs)._

