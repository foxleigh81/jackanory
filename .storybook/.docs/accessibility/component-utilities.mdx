{/* This file is automatically generated by the 'scripts/generate-docs.mjs' script. Do not edit it directly. */}

<Meta title="Accessibility/Component Utilities" />

# Accessibility Component Utilities

Reusable React components designed to make accessibility implementation easier and more consistent across the design system.

## üîá Screen Reader Components

### `<ScreenReaderOnly>`

Hides content visually while keeping it available to screen readers.

<Source
  language="typescript"
  code={`import { ScreenReaderOnly } from '@/components/utilities/screen-reader-only';
  const Component = () => (
    <div>
      <h2>Product List</h2>
      <ScreenReaderOnly>
        This section contains a list of 12 products with filtering options.
      </ScreenReaderOnly>
      <button>
        <span aria-hidden="true">üîç</span>
        <ScreenReaderOnly>Search products</ScreenReaderOnly>
      </button>
    </div>
);`}
/>

**Props:**

- `children: ReactNode` - Content to hide visually
- `className?: string` - Additional CSS classes

**Use Cases:**

- Additional context for screen readers
- Descriptive text for icon buttons
- Instructions that are visually obvious but need to be announced
- Skip link text

---

### `<LiveRegion>`

Announces dynamic content changes to screen readers using ARIA live regions.

<Source
  language="typescript"
  code={`import { LiveRegion, useLiveRegion } from '@/components/utilities/live-region';
  // Component approach
  const StatusComponent = ({ status }) => (
    <div>
      <LiveRegion
        message={status}
        politeness="polite"
        atomic={true}
      />
    </div>
  );
  // Hook approach
  const FormComponent = () => {
    const { announce } = useLiveRegion();
    const handleSubmit = async () => {
      try {
        await submitForm();
        announce('Form submitted successfully');
      } catch (error) {
        announce('Error submitting form. Please try again.', { politeness: 'assertive' });
      }
    };
    return <form onSubmit={handleSubmit}>...</form>;
};`}
/>

**Props:**

- `message: string` - Message to announce
- `politeness?: 'polite' | 'assertive'` - Announcement priority (default: 'polite')
- `atomic?: boolean` - Whether to announce entire content (default: false)
- `relevant?: string` - What changes to announce (default: 'additions text')

**Hook Returns:**

- `announce(message, options?)` - Function to announce messages

**Use Cases:**

- Form validation messages
- Status updates
- Loading state changes
- Success/error notifications

## üîó Navigation Components

### `<SkipLink>`

Provides keyboard users with shortcuts to skip repetitive navigation.

<Source
  language="typescript"
  code={`import { SkipLink } from '@/components/utilities/skip-link';
  const Layout = ({ children }) => (
    <div>
      <SkipLink href="#main-content">Skip to main content</SkipLink>
      <SkipLink href="#navigation">Skip to navigation</SkipLink>
      <nav id="navigation">...</nav>
      <main id="main-content">{children}</main>
    </div>
);`}
/>

**Props:**

- `href: string` - Target element ID to skip to
- `children?: ReactNode` - Link text (default: "Skip to main content")
- `className?: string` - Additional CSS classes

**Features:**

- Only visible when focused
- Smooth scrolling to target
- Proper focus management
- Keyboard accessible

**Use Cases:**

- Skip to main content
- Skip to navigation
- Skip to search
- Skip repetitive content blocks

## üìã Usage Examples

### Complete Accessible Form

<Source
  language="typescript"
  code={`import {
    ScreenReaderOnly,
    LiveRegion
  } from '@/components/utilities';
  import { useLiveRegion } from '@/libs/hooks';
  const AccessibleForm = () => {
    const [errors, setErrors] = useState({});
    const [isSubmitting, setIsSubmitting] = useState(false);
    const { announce } = useLiveRegion();
    const handleSubmit = async (data) => {
      setIsSubmitting(true);
      try {
        await submitForm(data);
        announce('Form submitted successfully');
        setErrors({});
      } catch (error) {
        const newErrors = parseErrors(error);
        setErrors(newErrors);
        // Announce error count
        const errorCount = Object.keys(newErrors).length;
        announce(
          \`Form submission failed. \${errorCount} error\${errorCount !== 1 ? 's' : ''} found. Please review and correct.\`,
          { politeness: 'assertive' }
        );
      } finally {
        setIsSubmitting(false);
      }
    };
    return (
      <form onSubmit={handleSubmit}>
        <ScreenReaderOnly>
          <p>
            This form has {Object.keys(errors).length > 0 ? Object.keys(errors).length : 'no'} errors.
            Required fields are marked with an asterisk.
          </p>
        </ScreenReaderOnly>
        <div>
          <label htmlFor="email">
            Email Address
            <ScreenReaderOnly>(required)</ScreenReaderOnly>
            <span aria-hidden="true">*</span>
          </label>
          <input
            id="email"
            type="email"
            required
            aria-describedby={errors.email ? 'email-error' : undefined}
            aria-invalid={!!errors.email}
          />
          {errors.email && (
            <div id="email-error" role="alert">
              {errors.email}
            </div>
          )}
        </div>
        <button type="submit" disabled={isSubmitting}>
          {isSubmitting ? (
            <>
              <span aria-hidden="true">‚è≥</span>
              <ScreenReaderOnly>Submitting form, please wait</ScreenReaderOnly>
              Submitting...
            </>
          ) : (
            'Submit Form'
          )}
        </button>
        {/* Live region for status announcements */}
        <LiveRegion
          message={isSubmitting ? 'Form is being submitted' : ''}
          politeness="polite"
        />
      </form>
    );
};`}
/>

### Accessible Data Table with Actions

<Source
  language="typescript"
  code={`import { ScreenReaderOnly } from '@/components/utilities';
  const DataTable = ({ data, onEdit, onDelete }) => (
    <div>
      <ScreenReaderOnly>
        <p>
          Data table with {data.length} rows and 4 columns.
          Each row has edit and delete actions available.
        </p>
      </ScreenReaderOnly>
      <table>
        <caption>
          User Management Table
          <ScreenReaderOnly>
            - Use arrow keys to navigate between cells,
            Enter to activate buttons
          </ScreenReaderOnly>
        </caption>
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Role</th>
            <th scope="col">
              Actions
              <ScreenReaderOnly>(Edit and Delete buttons)</ScreenReaderOnly>
            </th>
          </tr>
        </thead>
        <tbody>
          {data.map((user) => (
            <tr key={user.id}>
              <td>{user.name}</td>
              <td>{user.email}</td>
              <td>{user.role}</td>
              <td>
                <button onClick={() => onEdit(user.id)}>
                  <span aria-hidden="true">‚úèÔ∏è</span>
                  <ScreenReaderOnly>Edit {user.name}</ScreenReaderOnly>
                  Edit
                </button>
                <button onClick={() => onDelete(user.id)}>
                  <span aria-hidden="true">üóëÔ∏è</span>
                  <ScreenReaderOnly>Delete {user.name}</ScreenReaderOnly>
                  Delete
                </button>
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
);`}
/>

### Accessible Modal with Announcements

<Source
  language="typescript"
  code={`import {
    ScreenReaderOnly,
    LiveRegion
  } from '@/components/utilities';
  import { useFocusTrap, useLiveRegion } from '@/libs/hooks';
  const AccessibleModal = ({ isOpen, onClose, title, children }) => {
    const focusTrapRef = useFocusTrap({ isActive: isOpen });
    const { announce } = useLiveRegion();
    useEffect(() => {
      if (isOpen) {
        announce(\`\${title} dialog opened\`);
      }
    }, [isOpen, title, announce]);
    const handleClose = () => {
      announce(\`\${title} dialog closed\`);
      onClose();
    };
    if (!isOpen) return null;
    return (
      <div className="modal-overlay">
        <div
          ref={focusTrapRef}
          role="dialog"
          aria-modal="true"
          aria-labelledby="modal-title"
          aria-describedby="modal-description"
        >
          <ScreenReaderOnly id="modal-description">
            Press Escape to close this dialog.
            Use Tab to navigate between interactive elements.
          </ScreenReaderOnly>
          <header>
            <h2 id="modal-title">{title}</h2>
            <button
              onClick={handleClose}
              aria-label={\`Close \${title} dialog\`}
            >
              <span aria-hidden="true">√ó</span>
            </button>
          </header>
          <div>
            {children}
          </div>
          <ScreenReaderOnly>
            <p>End of {title} dialog content.</p>
          </ScreenReaderOnly>
        </div>
      </div>
    );
};`}
/>

### Accessible Loading States

<Source
  language="typescript"
  code={`import { ScreenReaderOnly, LiveRegion } from '@/components/utilities';
  const LoadingButton = ({ isLoading, children, ...props }) => (
    <button {...props} disabled={isLoading}>
      {isLoading ? (
        <>
          <span aria-hidden="true" className="spinner">‚è≥</span>
          <ScreenReaderOnly>Loading, please wait</ScreenReaderOnly>
          Loading...
        </>
      ) : (
        children
      )}
      <LiveRegion
        message={isLoading ? 'Operation in progress' : ''}
        politeness="polite"
      />
    </button>
  );
  const DataLoader = ({ isLoading, error, data }) => (
    <div>
      {isLoading && (
        <div role="status" aria-live="polite">
          <ScreenReaderOnly>Loading data, please wait</ScreenReaderOnly>
          <div aria-hidden="true">Loading...</div>
        </div>
      )}
      {error && (
        <div role="alert">
          <ScreenReaderOnly>Error loading data: </ScreenReaderOnly>
          {error.message}
        </div>
      )}
      {data && (
        <div>
          <ScreenReaderOnly>
            Data loaded successfully. {data.length} items available.
          </ScreenReaderOnly>
          {/* Render data */}
        </div>
      )}
    </div>
);`}
/>

## üîß Best Practices

### ScreenReaderOnly Usage

1. **Provide context** that's visually obvious but not programmatically available
2. **Describe icon buttons** with meaningful text
3. **Add instructions** for complex interactions
4. **Don't overuse** - only add when necessary

### LiveRegion Usage

1. **Use 'polite' for most announcements** - less disruptive
2. **Use 'assertive' for errors** and critical updates
3. **Keep messages concise** and clear
4. **Test with actual screen readers** to verify announcements

### SkipLink Usage

1. **Place at the beginning** of the page
2. **Make targets meaningful** and specific
3. **Ensure targets exist** and are focusable
4. **Test keyboard navigation** thoroughly

## üêõ Troubleshooting

### ScreenReaderOnly Not Working

- Verify CSS is properly applied
- Check that content is not being hidden by other styles
- Test with actual screen readers

### LiveRegion Not Announcing

- Ensure the live region exists in the DOM before content changes
- Check that the message actually changes (screen readers ignore repeated content)
- Verify politeness level is appropriate

### SkipLink Issues

- Confirm target elements have proper IDs
- Ensure targets are focusable (add `tabindex="-1"` if needed)
- Test that focus moves correctly

---

_For more accessibility resources, see our [main accessibility documentation](/docs/accessibility-index--docs)._

